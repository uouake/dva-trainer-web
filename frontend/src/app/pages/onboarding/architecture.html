<div class="architecture-page">
  <header class="architecture-header">
    <a class="back-link" routerLink="/onboarding">
      <span>â†</span> Retour Ã  l'histoire
    </a>
    <h1 class="architecture-title">ğŸ—ï¸ Architecture de l'App</h1>
    <p class="architecture-subtitle">Voici comment tous les services AWS se connectent</p>
  </header>

  <!-- SchÃ©ma d'architecture -->
  <div class="architecture-diagram">
    <div class="layer user-layer">
      <div class="box user-box">
        <span class="icon">ğŸ‘¤</span>
        <span class="label">UTILISATEUR</span>
        <span class="sublabel">Ã‰lÃ¨ve avec son tÃ©lÃ©phone</span>
      </div>
    </div>

    <div class="arrow">â†“</div>

    <div class="layer gateway-layer">
      <div class="box gateway-box">
        <span class="icon">ğŸšª</span>
        <span class="label">API GATEWAY</span>
        <span class="sublabel">Porte d'EntrÃ©e avec Gardien</span>
        <span class="sublabel">VÃ©rifie les Badges (IAM)</span>
      </div>
    </div>

    <div class="arrow">â†“</div>

    <div class="layer compute-layer">
      <div class="box lambda-box">
        <span class="icon">ğŸ¤–</span>
        <span class="label">AWS LAMBDA</span>
        <span class="sublabel">Robot Cuisinier</span>
        <span class="sublabel">ArmÃ©e de robots (Auto-Scaling)</span>
      </div>
    </div>

    <div class="branches">
      <div class="branch-row">
        <div class="branch-box secrets-box">
          <span class="icon">ğŸ”</span>
          <span class="label">SECRETS MANAGER</span>
          <span class="sublabel">Coffre-Fort NumÃ©rique</span>
        </div>
        <div class="branch-box s3-box">
          <span class="icon">ğŸ“¦</span>
          <span class="label">S3</span>
          <span class="sublabel">Casier Infini</span>
        </div>
      </div>

      <div class="arrow-center">â†“</div>

      <div class="branch-box dynamodb-box">
        <span class="icon">ğŸ—„ï¸</span>
        <span class="label">DYNAMODB</span>
        <span class="sublabel">Fiches Ã‰lÃ¨ves Magiques</span>
      </div>

      <div class="arrow-center">â†“</div>

      <div class="branch-row">
        <div class="branch-box sqs-box">
          <span class="icon">ğŸ“¬</span>
          <span class="label">SQS</span>
          <span class="sublabel">BoÃ®te aux Lettres</span>
        </div>
        <div class="branch-box sns-box">
          <span class="icon">ğŸ“¢</span>
          <span class="label">SNS</span>
          <span class="sublabel">Haut-Parleur</span>
        </div>
      </div>
    </div>

    <div class="arrow">â†“</div>

    <div class="layer monitoring-layer">
      <div class="box cloudwatch-box">
        <span class="icon">ğŸ“Š</span>
        <span class="label">CLOUDWATCH</span>
        <span class="sublabel">Tableau de Bord du Proviseur</span>
        <ul class="feature-list">
          <li>Surveille les performances</li>
          <li>DÃ©clenche l'armÃ©e de robots si besoin</li>
          <li>DÃ©tecte les attaques (DDOS)</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Tableau des concepts -->
  <div class="concepts-section">
    <h2>ğŸ“‹ Mapping Concepts AWS</h2>
    <div class="concepts-table">
      <div class="table-header">
        <span>Chapitre</span>
        <span>Concept AWS</span>
        <span>Nom dans l'histoire</span>
      </div>
      @for (concept of concepts; track $index) {
        <div class="table-row">
          <span class="chapter-cell">{{ concept.chapter }}</span>
          <span class="aws-cell">{{ concept.awsName }}</span>
          <span class="story-cell">{{ concept.storyName }}</span>
        </div>
      }
    </div>
  </div>
</div>
